@import "super/i-dynamic-page/i-dynamic-page.styl"

$p = {
	sliderHeight: 220px
	titleColor: c(black, 1)
	subtitleColor: lighten(c(black, 1), 50%)
	descTextColor: c(grey, 12)
	scanButtonBg: c(#2B9FFF)
	blocksBg: c(white, 1)
	blocksOffsetTop: 12px
	cbLinkBg: c(grey, 7)
	buttonColor: c(white, 1)
	buttonBgColor: c(green, 2)
	shopClosing: c(red, 4)
}

p-index extends i-dynamic-page
	&__hint
		useGPU()
		transition opacity 0.3s
		opacity 1

	&__title
		font-size 20px
		font-weight bold
		color $p.titleColor

	&__list-static
	&__list-root-static
		height 96px

	&__list-el
		margin-top 28px

	&__sub-title
		margin-top 8px
		color $p.subtitleColor

	&__section-header
		margin-bottom 16px

	&__section
		padding 0 16px
		margin-top 28px

	&__section_type_cb
		padding 0

	&__section_type_cb &__title
		padding 0 16px

	&__retailer
		position relative
		padding-right 50px

	&__retailer-title
		font-size 28px
		setFont(Bold)
		line-height 0.928em
		margin-bottom 8px

	&__retailer-address
		margin-bottom 4px
		font-size 14px

	&__retailer-info
		font-size 13px
		color $p.descTextColor

	&__works-until
		padding-left 8px

	&__retailer-icon
		absolute right 0 top 4px
		size 48px
		border-radius 50%
		overflow hidden
		background-size cover
		background-repeat no-repeat

	&__bonus-placeholder
		display flex
		flex-direction column
		justify-content center
		align-items center
		height 122px
		margin-top $p.blocksOffsetTop

		font-size 14px
		text-align center
		background-color $p.blocksBg
		border-radius 12px

	&__bonus-auth
		color $p.buttonBgColor
		margin-top 12px

	&__cards
	&__coupon
	&__bonus
	&__past-purchases-wrapper
		margin-top $p.blocksOffsetTop

	&__empty-purchases
		padding 28px 32px
		border-radius 12px
		background-color $p.blocksBg

	&__empty-purchases-text
		font-size 14px
		line-height 18px
		text-align center
		color $p.descTextColor

	&__slider
		height $p.sliderHeight

	&__cb-wrapper
		background-color $p.blocksBg
		border-radius 12px

		&:first-child
			margin-left 16px


	&__cb-wrapper
	&__cb-link
		height $p.sliderHeight
		min-height @height
		width 152px
		min-width @width
		margin-left 12px
		overflow hidden

	&__cb-link-wrapper
		padding-right 16px

	&__cb-link
		flex-col center

		background-color $p.blocksBg
		border-radius 12px

		text-align center
		setFont(Medium)

		&:before
			content ""
			position relative
			size 72px
			margin-bottom 28px

			border-radius 50%
			background-image img("assets/img/cb-arrow.svg")
			background-repeat no-repeat
			background-size 32px
			background-position center
			background-color $p.cbLinkBg

	&__cb-link-text
		width 103px
		font-size 16px

	&__cards-container
		margin-top 2px

	&__scan-button
		display flex
		justify-content center
		align-items center

		width calc(100% - 32px)
		height 44px
		margin 16px auto 0
		border 0

		font-size 14px
		color $p.blocksBg
		background-color $p.scanButtonBg
		border-radius 6px
		outline none

		&:before
			content ""
			size 16px
			margin-right 8px

			background-size contain
			background-repeat no-repeat
			background-image img("assets/icons/camera.svg")

	&__button
		flex-row center
		size 100% 44px

		border 0
		border-radius 6px

		font-size 14px
		color $p.buttonColor
		background-color $p.buttonBgColor

		&:focus
		&:active
			outline 0

	&__retailer-sk
		width 100%
		overflow hidden

	&__cards-sk
		margin-top 16px

	&__past-sk
		overflow hidden
		min-height 151px

	&__main-sk
		padding 0 16px

	&__button_type_checks
		margin-top 16px

	&__section_type_loudest
		padding-left 0
		padding-right 0

	&__section_type_retailer
		margin-top 0

	&_hint-closed_true &__hint
		opacity 0

	&_hint-disabled_true ^[0]
	&__hint
		display none


	&_hint-disabled_true &__section_type_retailer
		margin-top 26px

	&_hint-disabled_true &__shops-title
		transition none !important

	&__works-until_closing_true
		color $p.shopClosing
